<!DOCTYPE html>
<html lang="en" class="light">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AgriConnect - Live Mandi Prices</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;700;900&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#2A6041",
            "primary-light": "rgba(42,96,65,0.2)",
            secondary: "#A07855",
            accent: "#FFC107",
            "background-light": "#F5F5DC",
            "background-dark": "#1C1C1A",
            "text-light": "#121b0e",
            "text-dark": "#F5F5F5",
            "border-light": "#D7E7D0",
            "border-dark": "#3a3a3a",
          },
          fontFamily: { display: ["Public Sans"] },
        },
      },
    };
  </script>

  <style>
    .material-symbols-outlined {
      font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
    }

    select {
      background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27rgb(160,120,85)%27 viewBox=%270 0 24 24%27%3E%3Cpath d=%27M7 10l5 5 5-5z%27/%3E%3C/svg%3E');
      background-position: right 0.75rem center;
      background-repeat: no-repeat;
      background-size: 1.5em;
      appearance: none;
      padding-right: 2.5rem;
    }
  </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
  <div class="flex flex-col min-h-screen">
    <!-- HEADER -->
    <header class="flex items-center justify-between border-b border-border-light dark:border-border-dark px-6 py-4 bg-white dark:bg-background-dark">
      <div class="flex items-center gap-3 text-primary">
        <span class="material-symbols-outlined text-3xl">grass</span>
        <h2 class="text-xl font-bold">AgriConnect</h2>
      </div>

      <button id="mobileMenuBtn" class="md:hidden p-2 rounded-md border border-border-light">
        <span class="material-symbols-outlined">menu</span>
      </button>

      <nav id="navMenu" class="hidden md:flex items-center gap-8">
        <a href="Dashboard.html" class="hover:text-primary">Dashboard</a>
        <a href="#" class="hover:text-primary">Schemes</a>
        <a href="#" class="text-primary font-bold">Mandi Prices</a>
      </nav>

      <div class="flex items-center gap-4">
        <button class="rounded-full h-10 w-10 bg-primary-light text-primary flex items-center justify-center">
          <span class="material-symbols-outlined">notifications</span>
        </button>
        <div class="bg-center bg-cover rounded-full size-10"
          style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuASgRG2x96hDeTX2VIsBwrlbCSjpqvd8qJTTG7Ld1k6DyNgcBvUe9p-lYHt6Kms7rvqMRovH3H3OMjtywn1zY-EjoT6ZEQJ70fLUFFWno_tHE88X0jQ3keZyF1nzTfmxrkS8VulsID2bw3fb1GKCXz3SN_N814xQ_2_OIIiiIctJXredlxGLhakCMlMfI7cdPz1_BvpBmfpiU-CtkkwffoXH4drr31kO0W5X5aZAYsJQF_TaSaKi6mBk6kDRJsF4gw82n9h-XRY6lET");'>
        </div>
      </div>
    </header>

    <!-- MAIN -->
    <main class="flex-1 px-6 md:px-10 lg:px-20 py-8">
      <div class="flex flex-col lg:flex-row gap-8">

        <!-- FILTERS -->
        <aside class="w-full lg:w-1/3 xl:w-1/4 bg-white dark:bg-zinc-800 p-6 rounded-lg shadow-sm">
          <h3 class="text-xl font-bold mb-6">Find Best Prices</h3>
          <div class="space-y-5">
            <div>
              <input id="cropSearch" placeholder="Search for a crop"
                class="w-full h-12 px-4 rounded-lg bg-background-light dark:bg-zinc-700 border-none focus:ring-2 focus:ring-primary"
                type="text" />
            </div>

            <select id="stateSelect" class="w-full h-12 rounded-lg border border-border-light p-3 dark:bg-zinc-700">
              <option value="">All States</option>
              <option>Madhya Pradesh</option>
              <option>Uttar Pradesh</option>
              <option>Punjab</option>
            </select>

            <select id="districtSelect" class="w-full h-12 rounded-lg border border-border-light p-3 dark:bg-zinc-700">
              <option value="">All Districts</option>
              <option>Indore</option>
              <option>Bhopal</option>
              <option>Jabalpur</option>
            </select>

            <select id="mandiSelect" class="w-full h-12 rounded-lg border border-border-light p-3 dark:bg-zinc-700">
              <option value="">All Mandis</option>
              <option>Indore Mandi</option>
              <option>Choithram Mandi</option>
            </select>

            <div>
              <p class="font-medium mb-2">Filter by Crop Type</p>
              <div class="flex flex-wrap gap-3">
                <label><input type="radio" name="type" value="all" checked class="text-primary"> All</label>
                <label><input type="radio" name="type" value="grains" class="text-primary"> Grains</label>
                <label><input type="radio" name="type" value="vegetables" class="text-primary"> Vegetables</label>
                <label><input type="radio" name="type" value="fruits" class="text-primary"> Fruits</label>
              </div>
            </div>

            <button id="applyFilters"
              class="w-full h-12 rounded-lg bg-primary text-white font-bold hover:bg-green-700 transition">Apply
              Filters</button>
          </div>
        </aside>

        <!-- RESULTS -->
        <section class="w-full lg:w-2/3 xl:w-3/4">
          <div class="flex flex-wrap justify-between items-center mb-6">
            <div>
              <h1 class="text-3xl font-black">Live Mandi Prices</h1>
              <p class="text-secondary">Find the best prices for your crops</p>
            </div>

            <div class="flex border rounded-lg overflow-hidden">
              <button id="cardViewBtn"
                class="px-3 py-1.5 bg-primary text-white text-sm flex items-center gap-1"><span
                  class="material-symbols-outlined text-base">grid_view</span> Card</button>
              <button id="tableViewBtn"
                class="px-3 py-1.5 text-secondary text-sm flex items-center gap-1"><span
                  class="material-symbols-outlined text-base">table_rows</span> Table</button>
            </div>
          </div>

          <div id="cropContainer" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"></div>

          <div id="emptyState"
            class="hidden text-center bg-white dark:bg-zinc-800 rounded-lg p-10 mt-10 shadow-sm flex-col items-center justify-center">
            <img class="w-32 h-32 mx-auto mb-4"
              src="https://cdn-icons-png.flaticon.com/512/1178/1178076.png" />
            <p class="text-lg font-bold">No Prices Found</p>
            <p class="text-secondary text-sm">Try adjusting your filters to see available crops.</p>
          </div>
        </section>
      </div>
    </main>

    <!-- FOOTER -->
    <footer
      class="mt-16 border-t border-border-light dark:border-border-dark px-6 md:px-10 lg:px-20 py-6 text-center text-secondary text-sm">
      <p>© 2025 AgriConnect. All rights reserved.</p>
    </footer>
  </div>

  <script>
    const crops = [
      { name: "Wheat", mandi: "Indore Mandi", state: "Madhya Pradesh", district: "Indore", type: "grains", price: 2500, change: 50 },
      { name: "Tomato", mandi: "Indore Mandi", state: "Madhya Pradesh", district: "Indore", type: "vegetables", price: 1800, change: -25 },
      { name: "Soybean", mandi: "Bhopal Mandi", state: "Madhya Pradesh", district: "Bhopal", type: "grains", price: 4200, change: 100 },
      { name: "Apple", mandi: "Ludhiana Mandi", state: "Punjab", district: "Ludhiana", type: "fruits", price: 7500, change: 150 }
    ];

    const cropContainer = document.getElementById("cropContainer");
    const emptyState = document.getElementById("emptyState");

    function renderCrops(list) {
      cropContainer.innerHTML = "";
      if (list.length === 0) {
        emptyState.classList.remove("hidden");
        return;
      }
      emptyState.classList.add("hidden");

      list.forEach(crop => {
        cropContainer.innerHTML += `
        <div class="bg-white dark:bg-zinc-800 rounded-lg shadow-sm p-5 flex flex-col gap-4 transition hover:shadow-md">
          <div>
            <h4 class="text-xl font-bold">${crop.name}</h4>
            <p class="text-sm text-secondary">${crop.mandi}, ${crop.state}</p>
          </div>
          <div>
            <p class="text-3xl font-black text-primary">₹${crop.price} <span class="text-base text-secondary">/ Quintal</span></p>
            <div class="flex items-center ${crop.change > 0 ? 'text-green-600' : 'text-red-600'}">
              <span class="material-symbols-outlined">${crop.change > 0 ? 'arrow_upward' : 'arrow_downward'}</span>
              <p class="text-sm font-medium">₹${Math.abs(crop.change)}</p>
            </div>
          </div>
        </div>`;
      });
    }

    function applyFilters() {
      const search = document.getElementById("cropSearch").value.toLowerCase();
      const state = document.getElementById("stateSelect").value;
      const district = document.getElementById("districtSelect").value;
      const mandi = document.getElementById("mandiSelect").value;
      const type = document.querySelector("input[name='type']:checked").value;

      const filtered = crops.filter(crop =>
        (search === "" || crop.name.toLowerCase().includes(search)) &&
        (state === "" || crop.state === state) &&
        (district === "" || crop.district === district) &&
        (mandi === "" || crop.mandi === mandi) &&
        (type === "all" || crop.type === type)
      );
      renderCrops(filtered);
    }

    document.getElementById("applyFilters").addEventListener("click", applyFilters);

    // Responsive menu
    document.getElementById("mobileMenuBtn").addEventListener("click", () => {
      document.getElementById("navMenu").classList.toggle("hidden");
    });

    // View toggle
    const cardViewBtn = document.getElementById("cardViewBtn");
    const tableViewBtn = document.getElementById("tableViewBtn");
    cardViewBtn.addEventListener("click", () => {
      cropContainer.classList.replace("block", "grid");
      cardViewBtn.classList.add("bg-primary", "text-white");
      tableViewBtn.classList.remove("bg-primary", "text-white");
      renderCrops(crops);
    });
    tableViewBtn.addEventListener("click", () => {
      cropContainer.classList.replace("grid", "block");
      cropContainer.innerHTML = `<table class="w-full text-left border">
        <thead><tr class="bg-primary text-white">
          <th class="p-3">Crop</th><th class="p-3">Mandi</th><th class="p-3">Price (₹/Quintal)</th><th class="p-3">Change</th></tr></thead>
        <tbody>${crops.map(c => `<tr class="border-b"><td class="p-3">${c.name}</td><td class="p-3">${c.mandi}</td><td class="p-3">${c.price}</td><td class="p-3 ${c.change>0?'text-green-600':'text-red-600'}">${c.change>0?'+':'-'}₹${Math.abs(c.change)}</td></tr>`).join('')}</tbody>
      </table>`;
      tableViewBtn.classList.add("bg-primary", "text-white");
      cardViewBtn.classList.remove("bg-primary", "text-white");
    });

    // Initial render
    renderCrops(crops);
  </script>
</body>
</html>
